要在Linux系统上永久修改文件描述符（包括socket文件描述符）的数量限制，你需要对系统配置进行调整。这里有几个步骤可以帮助完成这个任务：

### 1. 修改 `/etc/security/limits.conf`

这个文件用于控制用户或组的资源限制。你可以通过添加或修改相应的行来设置文件描述符的数量限制：

```sh
*           soft    nofile      4096
*           hard    nofile      10000
```

这里，`*`代表所有用户，`nofile`表示文件描述符数量的限制。`soft`限制是操作系统强制的限制，而`hard`限制是`soft`限制能达到的最高值。上述设置将软限制设置为4096，硬限制设置为10000。

如果只想为特定用户设置限制，可以将`*`替换为用户名：

```sh
username    soft    nofile      4096
username    hard    nofile      10000
```

### 2. 修改 `/etc/sysctl.conf`（可选）

对于网络连接等涉及到端口范围的设置，可以通过修改`sysctl`设置来增加可用的IP端口范围，这在高并发的网络服务中可能会有所帮助：

```sh
net.ipv4.ip_local_port_range = 1024 65535
```

修改后，运行`sudo sysctl -p`应用更改。

### 3. 更改Systemd服务限制（如果你的系统使用Systemd）

对于使用Systemd的系统，你可能还需要调整Systemd服务的文件描述符限制。编辑 `/etc/systemd/system.conf` 和 `/etc/systemd/user.conf`，添加或修改以下行：

```sh
DefaultLimitNOFILE=10000
```

### 应用修改

在进行上述修改后，你需要重新登录或重启系统来使这些更改生效。对于Systemd的更改，重新启动可能是必需的。

### 注意

- 在调整文件描述符的数量限制时要考虑到系统的负载和资源情况。过高的限制可能会导致系统资源被过度使用。
- 一些特定的应用程序可能还需要在其自己的配置文件中设置文件描述符的数量限制。
- 对系统配置的修改应该谨慎进行，建议先在非生产环境中测试这些更改的影响。

通过这些方法，你可以永久地修改Linux系统上的文件描述符数量限制，以满足应用程序的需要。
