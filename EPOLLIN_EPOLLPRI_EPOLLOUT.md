`epoll` 是 Linux 特有的 I/O 事件通知机制，通过 `epoll` 接口，程序可以监视多种类型的事件。这些事件通过标志来标识，`EPOLLIN`、`EPOLLPRI`、和 `EPOLLOUT` 是其中三种常见的事件类型。每种事件类型都代表着内核中发生了特定类型的活动，应用程序可以据此采取相应的动作。

### EPOLLIN

`EPOLLIN`标志表示对应的文件描述符上有可读取的数据（比如，socket 接收到了数据，或者管道/文件中有数据可读）。当文件描述符变成“read-ready”状态时（意味着读操作可以进行而不会阻塞），`epoll`就会通知应用程序`EPOLLIN`事件。对于流（stream）类型的文件描述符，如果读操作返回`EOF`，也会触发`EPOLLIN`事件。

### EPOLLPRI

`EPOLLPRI`标志表示对应的文件描述符上有紧急的数据可读取。在网络编程中，这常常与TCP socket的紧急（OOB，Out-Of-Band）数据相关联。当收到带外数据时，`epoll`会通知应用程序`EPOLLPRI`事件，应用程序需要采用相应的读取方法来处理这些紧急数据。

### EPOLLOUT

`EPOLLOUT`标志表示对应的文件描述符已准备好进行写操作。换句话说，写入操作可以进行而不会导致调用线程阻塞。这通常意味着输出缓冲区有足够的空间容纳新的数据。对于网络编程来说，这通常表示连接的socket的发送缓冲区有足够空间来容纳更多待发送数据。

### 使用注意事项

- 在添加文件描述符到`epoll`实例时，你可以指定想要监视的事件类型。根据应用程序的需要，可以选择上述事件类型中的一个或多个。
- `EPOLLIN`和`EPOLLOUT`是最常用的事件类型，涵盖了大多数I/O操作的需求。
- `EPOLLPRI`较少使用，通常只在处理特定协议的紧急数据时才会用到。
- 在某些情况下，文件描述符同时可能会触发多个事件，程序需要能够正确处理这种情况。

通过`epoll`接口，Linux提供了一种高效的机制来处理大量并发I/O操作，通过准确地响应不同类型的事件，应用程序可以优化其I/O性能和资源使用。
